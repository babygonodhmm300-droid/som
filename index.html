<!DOCTYPE html>
<html lang="lo">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫•‡∫≤‡∫ç‡∫Æ‡∫±‡∫ö-‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç‡∫Ç‡∫≠‡∫á Sombath</title>
    <style>
    	* {
		    box-sizing: border-box;
		    font-family: 'Noto Sans Lao', 'Phetsarath OT', 'Saysettha OT', sans-serif;
		}
		body {
		    max-width: 800px;
		    margin: 0 auto;
		    padding: 20px;
		    background-color: #f5f5f5;
		    line-height: 1.6;
		}
		.container {
		    background-color: white;
		    padding: 25px;
		    border-radius: 12px;
		    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
		}
		h1 {
		    color: #2c3e50;
		    text-align: center;
		    margin-bottom: 25px;
		    font-size: 28px;
		    font-weight: bold;
		}
		.auto-save-notice {
		    background: #e8f5e8;
		    border: 1px solid #4CAF50;
		    border-radius: 8px;
		    padding: 12px;
		    margin-bottom: 20px;
		    text-align: center;
		    color: #2e7d32;
		    font-weight: bold;
		}
		.summary {
		    display: flex;
		    justify-content: space-between;
		    margin-bottom: 25px;
		    padding: 20px;
		    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		    border-radius: 10px;
		    color: white;
		}
		.summary-item {
		    text-align: center;
		    flex: 1;
		}
		.summary-item h3 {
		    margin: 0;
		    font-size: 14px;
		    opacity: 0.9;
		}
		.summary-item p {
		    margin: 8px 0 0;
		    font-size: 20px;
		    font-weight: bold;
		}
		.income-summary {
		    color: #4CAF50 !important;
		}
		.expense-summary {
		    color: #ff6b6b !important;
		}
		.balance-summary {
		    color: #2196F3 !important;
		}
		.currency-menu {
		    display: flex;
		    justify-content: center;
		    margin-bottom: 20px;
		    gap: 10px;
		    flex-wrap: wrap;
		}
		.currency-btn {
		    padding: 12px 20px;
		    border: 2px solid #e0e0e0;
		    border-radius: 8px;
		    cursor: pointer;
		    font-size: 16px;
		    background-color: white;
		    transition: all 0.3s ease;
		    font-weight: 500;
		}
		.currency-btn.active {
		    background-color: #4CAF50;
		    color: white;
		    border-color: #4CAF50;
		    transform: translateY(-2px);
		    box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
		}
		.type-selection {
		    display: flex;
		    justify-content: center;
		    margin-bottom: 25px;
		    gap: 15px;
		}
		.type-btn {
		    padding: 12px 30px;
		    border: 2px solid #e0e0e0;
		    border-radius: 8px;
		    cursor: pointer;
		    font-size: 16px;
		    background-color: white;
		    transition: all 0.3s ease;
		    font-weight: 500;
		}
		.type-btn.active {
		    color: white;
		    transform: translateY(-2px);
		    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		}
		.income-btn.active {
		    background-color: #4CAF50;
		    border-color: #4CAF50;
		}
		.expense-btn.active {
		    background-color: #f44336;
		    border-color: #f44336;
		}
		.form-group {
		    margin-bottom: 20px;
		}
		label {
		    display: block;
		    margin-bottom: 8px;
		    font-weight: 600;
		    color: #2c3e50;
		    font-size: 16px;
		}
		input, textarea {
		    width: 100%;
		    padding: 12px 15px;
		    border: 2px solid #ddd;
		    border-radius: 8px;
		    font-size: 16px;
		    transition: border-color 0.3s ease;
		}
		input:focus, textarea:focus {
		    outline: none;
		    border-color: #4CAF50;
		    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
		}
		textarea {
		    height: 100px;
		    resize: vertical;
		}
		button {
		    background-color: #4CAF50;
		    color: white;
		    border: none;
		    padding: 12px 20px;
		    border-radius: 8px;
		    cursor: pointer;
		    font-size: 16px;
		    margin-right: 10px;
		    margin-bottom: 10px;
		    transition: all 0.3s ease;
		    font-weight: 500;
		}
		button:hover {
		    background-color: #45a049;
		    transform: translateY(-2px);
		    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		}
		button.secondary {
		    background-color: #2196F3;
		}
		button.secondary:hover {
		    background-color: #0b7dda;
		}
		button.danger {
		    background-color: #f44336;
		}
		button.danger:hover {
		    background-color: #d32f2f;
		}
		.data-list {
		    margin-top: 30px;
		}
		.data-list h2 {
		    color: #2c3e50;
		    border-bottom: 2px solid #4CAF50;
		    padding-bottom: 10px;
		    margin-bottom: 20px;
		}
		.data-item {
		    background-color: #f9f9f9;
		    border: 1px solid #eee;
		    border-radius: 8px;
		    padding: 18px;
		    margin-bottom: 12px;
		    position: relative;
		    transition: transform 0.2s ease;
		}
		.data-item:hover {
		    transform: translateX(5px);
		    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
		}
		.data-item.income {
		    border-left: 5px solid #4CAF50;
		    background: linear-gradient(135deg, #f8fff8 0%, #e8f5e8 100%);
		}
		.data-item.expense {
		    border-left: 5px solid #f44336;
		    background: linear-gradient(135deg, #fff8f8 0%, #ffe8e8 100%);
		}
		.data-item h3 {
		    margin-top: 0;
		    color: #2c3e50;
		    font-size: 18px;
		}
		.data-item p {
		    margin: 6px 0;
		    color: #555;
		}
		.delete-btn {
		    position: absolute;
		    top: 15px;
		    right: 15px;
		    background-color: #f44336;
		    color: white;
		    border: none;
		    border-radius: 50%;
		    width: 32px;
		    height: 32px;
		    cursor: pointer;
		    display: flex;
		    align-items: center;
		    justify-content: center;
		    transition: all 0.3s ease;
		}
		.delete-btn:hover {
		    background-color: #d32f2f;
		    transform: scale(1.1);
		}
		.export-buttons {
		    margin-top: 25px;
		    display: flex;
		    gap: 12px;
		    flex-wrap: wrap;
		    justify-content: center;
		}
		.empty-message {
		    text-align: center;
		    color: #888;
		    font-style: italic;
		    padding: 40px 20px;
		    background-color: #f9f9f9;
		    border-radius: 8px;
		    border: 2px dashed #ddd;
		}
		.notification-container {
		    position: fixed;
		    top: 20px;
		    right: 20px;
		    z-index: 1000;
		    max-width: 350px;
		}
		.notification {
		    background-color: #4CAF50;
		    color: white;
		    padding: 16px;
		    margin-bottom: 12px;
		    border-radius: 8px;
		    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
		    cursor: pointer;
		    position: relative;
		    overflow: hidden;
		    animation: slideIn 0.3s ease-out;
		}
		.notification.error {
		    background-color: #f44336;
		}
		.notification.warning {
		    background-color: #ff9800;
		}
		.notification.info {
		    background-color: #2196F3;
		}
		.notification-timer {
		    position: absolute;
		    bottom: 0;
		    left: 0;
		    height: 4px;
		    background-color: rgba(255,255,255,0.5);
		    width: 100%;
		    transform-origin: left;
		    animation: timer 5s linear forwards;
		}
		@keyframes slideIn {
		    from { transform: translateX(100%); opacity: 0; }
		    to { transform: translateX(0); opacity: 1; }
		}
		@keyframes timer {
		    from { transform: scaleX(1); }
		    to { transform: scaleX(0); }
		}
		
		/* Responsive Design */
		@media (max-width: 768px) {
		    body {
		        padding: 10px;
		    }
		    .container {
		        padding: 15px;
		    }
		    .summary {
		        flex-direction: column;
		        gap: 15px;
		    }
		    .currency-menu, .type-selection {
		        flex-wrap: wrap;
		    }
		    .export-buttons {
		        flex-direction: column;
		    }
		    button {
		        width: 100%;
		        margin-right: 0;
		    }
		}
	</style>
</head>
<body>
    <div class="container">
        <h1>‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫•‡∫≤‡∫ç‡∫Æ‡∫±‡∫ö-‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç</h1>
        
        <div class="auto-save-notice">
            <p>‚úÖ ‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÄ‡∫õ‡∫±‡∫ô JSON </p>
        </div>
        
        <div class="summary">
            <div class="summary-item">
                <h3>‡∫•‡∫≤‡∫ç‡∫Æ‡∫±‡∫ö‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î</h3>
                <p class="income-summary" id="total-income">0 LAK</p>
            </div>
            <div class="summary-item">
                <h3>‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î</h3>
                <p class="expense-summary" id="total-expense">0 LAK</p>
            </div>
            <div class="summary-item">
                <h3>‡∫ç‡∫≠‡∫î‡ªÄ‡∫á‡∫¥‡∫ô‡∫Ñ‡∫ª‡∫á‡ªÄ‡∫´‡∫º‡∫∑‡∫≠</h3>
                <p class="balance-summary" id="total-balance">0 LAK</p>
            </div>
        </div>
        
        <div class="currency-menu">
            <button class="currency-btn active" data-currency="LAK">LAK (‡∫Å‡∫µ‡∫ö)</button>
            <button class="currency-btn" data-currency="THB">THB (‡∫ö‡∫≤‡∫î)</button>
            <button class="currency-btn" data-currency="USD">USD (‡ªÇ‡∫î‡∫•‡ªâ‡∫≤)</button>
        </div>
        
        <div class="type-selection">
            <button class="type-btn income-btn active" data-type="income">‡∫•‡∫≤‡∫ç‡∫Æ‡∫±‡∫ö</button>
            <button class="type-btn expense-btn" data-type="expense">‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç</button>
        </div>
        
        <form id="dataForm">
            <div class="form-group">
                <label for="amount">‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô:</label>
                <input type="number" id="amount" min="0" step="1" required>
            </div>
            
            <div class="form-group">
                <label for="description" id="description-label">‡∫°‡∫≤‡∫à‡∫≤‡∫Å‡ªÉ‡∫™:</label>
                <input type="text" id="description" placeholder="‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á: ‡ªÄ‡∫á‡∫¥‡∫ô‡ªÄ‡∫î‡∫∑‡∫≠‡∫ô, ‡∫Ç‡∫≤‡∫ç‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤..." required>
            </div>
            
            <div class="form-group">
                <label for="notes">‡∫Ñ‡∫≥‡ªÄ‡∫´‡∫±‡∫ô:</label>
                <textarea id="notes" placeholder="‡∫•‡∫≤‡∫ç‡∫•‡∫∞‡∫≠‡∫Ω‡∫î‡ªÄ‡∫û‡∫µ‡ªà‡∫°‡ªÄ‡∫ï‡∫µ‡∫°..."></textarea>
            </div>
            
            <button type="submit">üíæ ‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô</button>
            <button type="button" id="clearForm" class="secondary">üóëÔ∏è ‡∫•‡ªâ‡∫≤‡∫á‡∫ü‡∫≠‡∫°</button>
        </form>
        
        <div class="export-buttons">
            <button id="downloadJSON" class="secondary">üì• ‡∫î‡∫≤‡∫ß‡ªÇ‡∫´‡∫º‡∫î‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô JSON</button>
            <button id="importJSON" class="secondary">üì§ ‡∫ô‡∫≥‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô JSON</button>
            <button id="clearAll" class="danger">üî• ‡∫•‡ªâ‡∫≤‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î</button>
        </div>
        
        <div class="data-list">
            <h2>üìä ‡∫õ‡∫∞‡∫´‡∫ß‡∫±‡∫î‡∫Å‡∫≤‡∫ô‡ªÄ‡∫Ñ‡∫∑‡ªà‡∫≠‡∫ô‡ªÑ‡∫´‡∫ß</h2>
            <div id="dataContainer">
                <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
            </div>
        </div>
    </div>

    <div class="notification-container" id="notificationContainer">
        <!-- ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
    </div>

    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <script>
    	// ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
	let currentCurrency = 'LAK';
	let currentType = 'income';
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
	function showNotification(message, type = 'success') {
	    const notificationContainer = document.getElementById('notificationContainer');
	    const notification = document.createElement('div');
	    notification.className = `notification ${type}`;
	    notification.innerHTML = `
	        ${message}
	        <div class="notification-timer"></div>
	    `;
	    
	    notificationContainer.appendChild(notification);
	    
	    // ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å
	    notification.addEventListener('click', function() {
	        this.remove();
	    });
	    
	    // ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
	    setTimeout(() => {
	        if (notification.parentNode) {
	            notification.remove();
	        }
	    }, 5000);
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å localStorage
	function loadData() {
	    const data = localStorage.getItem('financeData');
	    return data ? JSON.parse(data) : [];
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á localStorage ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå JSON ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
	function saveData(data) {
	    localStorage.setItem('financeData', JSON.stringify(data));
	    
	    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå JSON ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
	    autoSaveToJSON(data);
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô JSON ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
	function autoSaveToJSON(data) {
	    const dataStr = JSON.stringify(data, null, 2);
	    const dataBlob = new Blob([dataStr], {type: 'application/json'});
	    const url = URL.createObjectURL(dataBlob);
	    
	    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î)
	    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
	    const filename = `finance-data-auto-${timestamp}.json`;
	    
	    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á localStorage ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
	    localStorage.setItem('lastAutoSave', JSON.stringify({
	        filename: filename,
	        data: dataStr,
	        timestamp: new Date().toISOString()
	    }));
	    
	    showNotification('‚úÖ ‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÄ‡∫õ‡∫±‡∫ô JSON ‡∫≠‡∫±‡∫î‡∫ï‡∫∞‡ªÇ‡∫ô‡∫°‡∫±‡∫î‡ªÅ‡∫•‡ªâ‡∫ß', 'info');
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î JSON ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
	function downloadLatestJSON() {
	    const lastSave = localStorage.getItem('lastAutoSave');
	    if (!lastSave) {
	        showNotification('‚ùå ‡∫ö‡ªç‡ªà‡∫°‡∫µ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫µ‡ªà‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡ªÑ‡∫ß‡ªâ', 'warning');
	        return;
	    }
	    
	    const { filename, data } = JSON.parse(lastSave);
	    const dataBlob = new Blob([data], {type: 'application/json'});
	    const url = URL.createObjectURL(dataBlob);
	    
	    const a = document.createElement('a');
	    a.href = url;
	    a.download = filename;
	    document.body.appendChild(a);
	    a.click();
	    document.body.removeChild(a);
	    URL.revokeObjectURL(url);
	    
	    showNotification('üì• ‡∫î‡∫≤‡∫ß‡ªÇ‡∫´‡∫º‡∫î‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô JSON ‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î‡ªÅ‡∫•‡ªâ‡∫ß');
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å JSON
	function importFromJSON(file) {
	    const reader = new FileReader();
	    reader.onload = function(e) {
	        try {
	            const importedData = JSON.parse(e.target.result);
	            
	            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
	            if (!Array.isArray(importedData)) {
	                throw new Error('‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
	            }
	            
	            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤
	            saveData(importedData);
	            displayData();
	            updateSummary();
	            
	            showNotification('‚úÖ ‡∫ô‡∫≥‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î', 'success');
	        } catch (error) {
	            showNotification('‚ùå ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÉ‡∫ô‡∫ü‡∫≤‡∫ç‡∫ö‡ªç‡ªà‡∫ñ‡∫∑‡∫Å‡∫ï‡ªâ‡∫≠‡∫á', 'error');
	        }
	    };
	    reader.readAsText(file);
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏£‡∏∏‡∏õ
	function updateSummary() {
	    const data = loadData();
	    const currentData = data.filter(item => item.currency === currentCurrency);
	    
	    const totalIncome = currentData
	        .filter(item => item.type === 'income')
	        .reduce((sum, item) => sum + item.amount, 0);
	    
	    const totalExpense = currentData
	        .filter(item => item.type === 'expense')
	        .reduce((sum, item) => sum + item.amount, 0);
	    
	    const totalBalance = totalIncome - totalExpense;
	    
	    document.getElementById('total-income').textContent = formatCurrency(totalIncome);
	    document.getElementById('total-expense').textContent = formatCurrency(totalExpense);
	    document.getElementById('total-balance').textContent = formatCurrency(totalBalance);
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏¥‡∏ô
	function formatCurrency(amount) {
	    return new Intl.NumberFormat('lo-LA').format(amount) + ' ' + currentCurrency;
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
	function displayData() {
	    const dataContainer = document.getElementById('dataContainer');
	    const data = loadData();
	    
	    // ‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
	    const filteredData = data.filter(item => item.currency === currentCurrency);
	    
	    if (filteredData.length === 0) {
	        dataContainer.innerHTML = '<div class="empty-message">‡∫ç‡∫±‡∫á‡∫ö‡ªç‡ªà‡∫°‡∫µ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫µ‡ªà‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡ªÑ‡∫ß‡ªâ</div>';
	        return;
	    }
	    
	    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏õ‡πÄ‡∏Å‡πà‡∏≤
	    filteredData.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
	    
	    dataContainer.innerHTML = '';
	    filteredData.forEach((item) => {
	        const dataItem = document.createElement('div');
	        dataItem.className = `data-item ${item.type}`;
	        
	        const typeText = item.type === 'income' ? 'üí∞ ‡∫•‡∫≤‡∫ç‡∫Æ‡∫±‡∫ö' : 'üí∏ ‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç';
	        const sourceText = item.type === 'income' ? '‡∫°‡∫≤‡∫à‡∫≤‡∫Å' : '‡∫ä‡∫∑‡ªâ';
	        
	        dataItem.innerHTML = `
	            <h3>${typeText} - ${formatCurrency(item.amount)}</h3>
	            <p><strong>${sourceText}:</strong> ${item.description}</p>
	            <p><strong>‡∫Ñ‡∫≥‡ªÄ‡∫´‡∫±‡∫ô:</strong> ${item.notes || '-'}</p>
	            <p><strong>‡∫ß‡∫±‡∫ô‡∫ó‡∫µ:</strong> ${new Date(item.timestamp).toLocaleString('lo-LA')}</p>
	            <button class="delete-btn" data-id="${item.id}">√ó</button>
	        `;
	        dataContainer.appendChild(dataItem);
	    });
	    
	    // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö
	    document.querySelectorAll('.delete-btn').forEach(button => {
	        button.addEventListener('click', function() {
	            const id = this.getAttribute('data-id');
	            deleteData(id);
	        });
	    });
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
	function addData(newData) {
	    const data = loadData();
	    const id = Date.now().toString();
	    data.push({
	        id,
	        ...newData,
	        currency: currentCurrency,
	        timestamp: new Date().toISOString()
	    });
	    saveData(data);
	    displayData();
	    updateSummary();
	    
	    // ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
	    const typeText = newData.type === 'income' ? '‡∫•‡∫≤‡∫ç‡∫Æ‡∫±‡∫ö' : '‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç';
	    showNotification(`‚úÖ ‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å${typeText} ${formatCurrency(newData.amount)} ‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î`);
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
	function deleteData(id) {
	    if (confirm('‡∫ó‡ªà‡∫≤‡∫ô‡ªÅ‡∫ô‡ªà‡ªÉ‡∫à‡∫ö‡ªç‡ªà‡∫ó‡∫µ‡ªà‡∫à‡∫∞‡∫•‡∫∂‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ô‡∫µ‡ªâ?')) {
	        const data = loadData();
	        const updatedData = data.filter(item => item.id !== id);
	        saveData(updatedData);
	        displayData();
	        updateSummary();
	        showNotification('üóëÔ∏è ‡∫•‡∫∂‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î‡ªÅ‡∫•‡ªâ‡∫ß', 'warning');
	    }
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
	function clearAllData() {
	    if (confirm('‡∫ó‡ªà‡∫≤‡∫ô‡ªÅ‡∫ô‡ªà‡ªÉ‡∫à‡∫ö‡ªç‡ªà‡∫ó‡∫µ‡ªà‡∫à‡∫∞‡∫•‡∫∂‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î?')) {
	        localStorage.removeItem('financeData');
	        localStorage.removeItem('lastAutoSave');
	        displayData();
	        updateSummary();
	        showNotification('üî• ‡∫•‡∫∂‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î‡ªÅ‡∫•‡ªâ‡∫ß', 'error');
	    }
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô
	function changeCurrency(currency) {
	    currentCurrency = currency;
	    
	    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô
	    document.querySelectorAll('.currency-btn').forEach(btn => {
	        btn.classList.remove('active');
	    });
	    document.querySelector(`.currency-btn[data-currency="${currency}"]`).classList.add('active');
	    
	    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
	    updateSummary();
	    displayData();
	}
	
	// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö/‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢)
	function changeType(type) {
	    currentType = type;
	    
	    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
	    document.querySelectorAll('.type-btn').forEach(btn => {
	        btn.classList.remove('active');
	    });
	    document.querySelector(`.type-btn[data-type="${type}"]`).classList.add('active');
	    
	    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï label ‡∏Ç‡∏≠‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
	    const descriptionLabel = document.getElementById('description-label');
	    descriptionLabel.textContent = type === 'income' ? '‡∫°‡∫≤‡∫à‡∫≤‡∫Å‡ªÉ‡∫™:' : '‡∫ä‡∫∑‡ªâ‡∫´‡∫ç‡∫±‡∫á:';
	}
	
	// Event Listeners
	document.addEventListener('DOMContentLoaded', function() {
	    // ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
	    displayData();
	    updateSummary();
	    
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°
	    document.getElementById('dataForm').addEventListener('submit', function(e) {
	        e.preventDefault();
	        
	        const amount = parseFloat(document.getElementById('amount').value);
	        const description = document.getElementById('description').value;
	        const notes = document.getElementById('notes').value;
	        
	        if (!amount || amount <= 0) {
	            showNotification('‚ùå ‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡ªÉ‡∫™‡ªà‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫ó‡∫µ‡ªà‡∫ñ‡∫∑‡∫Å‡∫ï‡ªâ‡∫≠‡∫á', 'error');
	            return;
	        }
	        
	        addData({
	            type: currentType,
	            amount,
	            description,
	            notes
	        });
	        
	        this.reset();
	    });
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
	    document.getElementById('clearForm').addEventListener('click', function() {
	        document.getElementById('dataForm').reset();
	    });
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô
	    document.querySelectorAll('.currency-btn').forEach(btn => {
	        btn.addEventListener('click', function() {
	            changeCurrency(this.getAttribute('data-currency'));
	        });
	    });
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
	    document.querySelectorAll('.type-btn').forEach(btn => {
	        btn.addEventListener('click', function() {
	            changeType(this.getAttribute('data-type'));
	        });
	    });
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î JSON
	    document.getElementById('downloadJSON').addEventListener('click', downloadLatestJSON);
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ JSON
	    document.getElementById('importJSON').addEventListener('click', function() {
	        document.getElementById('fileInput').click();
	    });
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå
	    document.getElementById('fileInput').addEventListener('change', function(e) {
	        const file = e.target.files[0];
	        if (file) {
	            importFromJSON(file);
	        }
	        this.value = ''; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï input
	    });
	
	    // Event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
	    document.getElementById('clearAll').addEventListener('click', clearAllData);
	});
</script>
</body>
</html>
